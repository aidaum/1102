<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë§ˆìŒ ì „í•˜ê¸° ì±—ë´‡ (3ë‹¨ê³„ í€´ì¦ˆ)</title>
    <!-- Tailwind CSS ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* í•™ìƒë“¤ì—ê²Œ ì¹œê·¼í•œ í°íŠ¸ ì ìš© (Google Fonts) */
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        body {
            font-family: 'Jua', sans-serif;
            background-color: #f0f9ff; /* ë§¤ìš° ì—°í•œ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
        }
        /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ */
        #chat-window::-webkit-scrollbar { width: 8px; }
        #chat-window::-webkit-scrollbar-thumb { background-color: #93c5fd; border-radius: 4px; }
        #chat-window::-webkit-scrollbar-track { background-color: #e0f2fe; }
        
        /* ì±—ë´‡ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ */
        .typing-indicator { display: flex; align-items: center; padding: 8px 12px; }
        .typing-indicator span { height: 8px; width: 8px; background-color: #9ca3af; border-radius: 50%; display: inline-block; margin: 0 2px; animation: bounce 1.4s infinite both; }
        .typing-indicator span:nth-child(1) { animation-delay: 0.0s; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md bg-white rounded-2xl shadow-xl border-4 border-blue-300 overflow-hidden">
        <!-- í—¤ë” -->
        <header class="p-4 bg-gradient-to-r from-yellow-300 to-blue-400 text-center shadow-md">
            <h1 class="text-2xl font-bold text-white drop-shadow-md">âœ¨ ì´ëª¨í‹°ì½˜ í€´ì¦ˆ 3ë‹¨ê³„ âœ¨</h1>
        </header>

        <!-- ì±„íŒ…ì°½ -->
        <div id="chat-window" class="p-4 h-[70vh] overflow-y-auto space-y-4 bg-blue-50">
            <!-- ì±—ë´‡ ë©”ì‹œì§€ëŠ” ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>

        <!-- ì±—ë´‡ íƒ€ì´í•‘ ì¤‘ í‘œì‹œ -->
        <div id="typing-indicator" class="hidden typing-indicator">
            <span class="bg-gray-400"></span>
            <span class="bg-gray-400"></span>
            <span class="bg-gray-400"></span>
        </div>

        <!-- ì„ íƒì§€ ë²„íŠ¼ ì˜ì—­ -->
        <div id="options-container" class="p-4 bg-white border-t-2 border-blue-200 grid grid-cols-1 gap-2">
            <!-- ì„ íƒì§€ ë²„íŠ¼ì€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <script>
        // HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const chatWindow = document.getElementById('chat-window');
        const optionsContainer = document.getElementById('options-container');
        const typingIndicator = document.getElementById('typing-indicator');

        // --- í€´ì¦ˆ ë°ì´í„° ---
        // 3ë‹¨ê³„ (ì‰¬ì›€, ì¤‘ê°„, ì–´ë ¤ì›€) í€´ì¦ˆ ë ˆë²¨
        const quizLevels = [
            { // 1ë‹¨ê³„: ê¸°ë³¸ì ì¸ ê°ì • í‘œí˜„ (5ë¬¸ì œ)
                levelName: "1ë‹¨ê³„ (ê¸°ì´ˆ)",
                questions: [
                    {
                        botMessages: ["1-1. ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ê·¸ë¦¼ ëŒ€íšŒì—ì„œ ìƒ íƒ”ì–´!'ë¼ê³  ìë‘í–ˆì–´. ğŸ¨", "ì–´ë–»ê²Œ ì¶•í•˜í•´ ì£¼ë©´ ì¢‹ì„ê¹Œ?"],
                        options: [
                            { text: "1. ì¶•í•˜í•´! ğŸ¥³ğŸ‰", isCorrect: true, feedback: "ì •ë‹µ! ğŸ¥³ğŸ‰ ì´ëª¨í‹°ì½˜ì€ ì¶•í•˜í•˜ëŠ” ë§ˆìŒì„ 200% ì „ë‹¬í•´!" },
                            { text: "2. ì¢‹ê² ë‹¤. ğŸ˜’", isCorrect: false, feedback: "ì•—! ğŸ˜’ í‘œì •ì€ 'ì‚ì§€ê±°ë‚˜' 'ê¸°ë¶„ ë‚˜ìœ' ê²ƒì²˜ëŸ¼ ë³´ì—¬. ì¹œêµ¬ê°€ ì˜¤í•´í•  ìˆ˜ ìˆì–´!" },
                            { text: "3. ã…‹", isCorrect: false, feedback: "ì´ëŸ°! 'ã…‹' í•˜ë‚˜ë§Œ ë³´ë‚´ë©´ 'ì„±ì˜ ì—†ë‹¤'ê³  ìƒê°í•˜ê±°ë‚˜ 'ë¹„ì›ƒëŠ”ë‹¤'ê³  ì˜¤í•´í•  ìˆ˜ ìˆì–´. ğŸ˜­" }
                        ]
                    },
                    {
                        botMessages: ["1-2. ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ê¸°ë¶„ì´ ë³„ë¡œ ì•ˆ ì¢‹ì•„'ë¼ê³  í†¡ì„ ë³´ëƒˆì–´. ğŸ˜¥", "ì–´ë–»ê²Œ ìœ„ë¡œí•´ ì£¼ë©´ ì¢‹ì„ê¹Œ?"],
                        options: [
                            { text: "1. ì™œ? ë¬´ìŠ¨ ì¼ì´ì•¼? ğŸ˜¥", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜¥ í‘œì •ìœ¼ë¡œ 'ë‚˜ë„ ê±±ì •í•˜ê³  ìˆì–´'ë¼ëŠ” ë§ˆìŒì„ ë³´ì—¬ì£¼ë©´ ì¹œêµ¬ê°€ ë“ ë“ í•  ê±°ì•¼." },
                            { text: "2. í˜ë‚´! ğŸ¤£", isCorrect: false, feedback: "ì•—! ğŸ¤£ ì´ëª¨í‹°ì½˜ì€ 'ì—„ì²­ ì›ƒê¸°ë‹¤'ëŠ” ëœ»ì´ì•¼. ì¹œêµ¬ëŠ” 'ë‚´ ìŠ¬í”ˆ ê¸°ë¶„ì´ ì›ƒê¸´ê°€?' í•˜ê³  í™”ê°€ ë‚  ìˆ˜ ìˆì–´! ğŸ”¥" },
                            { text: "3. ì•„, ê·¸ë ‡êµ¬ë‚˜. ğŸ˜", isCorrect: false, feedback: "ğŸ˜ í‘œì •ì€ 'ì•„ë¬´ ìƒê°ì´ ì—†ë‹¤'ëŠ” ëœ»ì´ì•¼. ì¹œêµ¬ëŠ” 'ë‚˜í•œí…Œ ê´€ì‹¬ì´ ì—†ë‚˜?' í•˜ê³  ì„œìš´í•´í•  ê±°ì•¼. ğŸ˜¢" }
                        ]
                    },
                    {
                        botMessages: ["1-3. ë‚´ê°€ ì¹œêµ¬ ìƒì¼ ì„ ë¬¼ì„ ì¤¬ë”ë‹ˆ, ì¹œêµ¬ê°€ 'ì„ ë¬¼ ê³ ë§ˆì›Œ!'ë¼ê³  ë³´ëƒˆì–´. ğŸ", "ë­ë¼ê³  ë‹µì¥í• ê¹Œ?"],
                        options: [
                            { text: "1. ë³„ ê±° ì•„ë‹ˆì•¼~ ğŸ˜…", isCorrect: false, feedback: "ğŸ˜… ì´ëª¨í‹°ì½˜ì€ 'ë•€ í˜ë¦¬ë©° ë‹¹í™©'í•˜ëŠ” ëª¨ìŠµì´ì•¼. 'ì„ ë¬¼ ì¤€ ê²Œ ë¯¼ë§í•œê°€?' ìƒê°í•  ìˆ˜ ìˆì–´." },
                            { text: "2. ë§ˆìŒì— ë“ ë‹¤ë‹ˆ ë‹¤í–‰ì´ë‹¤! ğŸ¥°", isCorrect: true, feedback: "ì •ë‹µ! ğŸ¥° í•˜íŠ¸ ëˆˆ ì´ëª¨í‹°ì½˜ì€ 'ê¸°ì˜ë‹¤', 'ì¢‹ì•„í•œë‹¤'ëŠ” ë§ˆìŒì„ ì˜ ë³´ì—¬ì¤˜!" },
                            { text: "3. ìœ¼ì‘. ğŸ˜’", isCorrect: false, feedback: "ì•—! ğŸ˜’ í‘œì •ì€ 'ë§ˆìŒì— ì•ˆ ë“ ë‹¤'ëŠ” ëœ» ê°™ì•„. ì¹œêµ¬ê°€ 'ì„ ë¬¼ ì£¼ê³  í™”ë‚¬ë‚˜?' í•˜ê³  ê±±ì •í•  ê±°ì•¼." }
                        ]
                    },
                    {
                        botMessages: ["1-4. ì¹œêµ¬ì™€ ì•½ì†ì„ ê¹œë¹¡í•˜ê³  ëª» ê°”ì–´! ğŸ˜±", "ë¯¸ì•ˆí•˜ë‹¤ê³  ì‚¬ê³¼í•´ì•¼ í•´. ë­ë¼ê³  ë³´ë‚¼ê¹Œ?"],
                        options: [
                            { text: "1. í—, ë¯¸ì•ˆ! ğŸ˜œ", isCorrect: false, feedback: "ì´ëŸ°! ğŸ˜œ í‘œì •ì€ 'ë©”ë¡±'í•˜ë©° ì¥ë‚œì¹˜ëŠ” ëª¨ìŠµì´ì•¼. ì§„ì‹¬ìœ¼ë¡œ ì‚¬ê³¼í•˜ëŠ” ê²ƒ ê°™ì§€ ì•Šì•„! ğŸ˜ " },
                            { text: "2. ë¯¸ì•ˆ ã… ã…  ë‚´ê°€ ê¹œë¹¡í–ˆì–´ ğŸ™", isCorrect: true, feedback: "ì •ë‹µ! ã… ã…  ğŸ™ ì´ëª¨í‹°ì½˜ì€ 'ì •ë§ ë¯¸ì•ˆí•´ì„œ ìš¸ê³  ìˆë‹¤', 'ìš©ì„œë¥¼ ë¹ˆë‹¤'ëŠ” ì§„ì‹¬ì„ ì˜ ë³´ì—¬ì¤˜." },
                            { text: "3. ì•„, ë§ë‹¤! ğŸ¤£", isCorrect: false, feedback: "ì•—! ğŸ¤£ ì´ëª¨í‹°ì½˜ì€ 'ì›ƒê¸°ë‹¤'ëŠ” ëœ»ì´ì•¼. ì¹œêµ¬ëŠ” 'ë‚´ê°€ ê¸°ë‹¤ë¦° ê²Œ ì›ƒê¸´ê°€?' í•˜ê³  ë” í™”ê°€ ë‚  ìˆ˜ ìˆì–´! ğŸ”¥" }
                        ]
                    },
                    {
                        botMessages: ["1-5. ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ìš°ë¦¬ ì†Œí’ ê°€ëŠ” ë‚ !'ì´ë¼ê³  í†¡ì„ ë³´ëƒˆì–´. ğŸšŒ", "ì‹ ë‚˜ëŠ” ë§ˆìŒì„ í‘œí˜„í•´ ë³´ì!"],
                        options: [
                            { text: "1. ì‘... ğŸ˜´", isCorrect: false, feedback: "ğŸ˜´ ì´ëª¨í‹°ì½˜ì€ 'ì¡¸ë¦¬ë‹¤'ëŠ” ëœ»ì´ì•¼. ì†Œí’ ê°€ê¸° ì‹«ì€ ê²ƒì²˜ëŸ¼ ë³´ì—¬!" },
                            { text: "2. ì§„ì§œ? ğŸ˜‘", isCorrect: false, feedback: "ğŸ˜‘ ì´ í‘œì •ì€ 'ì§€ë£¨í•˜ë‹¤'ê±°ë‚˜ 'ë³„ë¡œë‹¤'ë¼ëŠ” ëœ»ì´ì•¼. ì¹œêµ¬ê°€ ì‹¤ë§í•  ê±°ì•¼." },
                            { text: "3. ìš°ì™€! ì •ë§ ì‹ ë‚œë‹¤! ğŸ˜†ğŸ¤©", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜†ğŸ¤© ì´ëª¨í‹°ì½˜ì„ ë³´ë‹ˆ 'ì •ë§ ì‹ ë‚˜ê³  ê¸°ëŒ€ëœë‹¤'ëŠ” ë§ˆìŒì´ 100% ëŠê»´ì ¸!" }
                        ]
                    }
                ]
            },
            { // 2ë‹¨ê³„: ì¡°ê¸ˆ í—·ê°ˆë¦¬ëŠ” ê°ì • (5ë¬¸ì œ)
                levelName: "2ë‹¨ê³„ (ì‘ìš©)",
                questions: [
                    {
                        botMessages: ["2-1. ì¹œêµ¬ê°€ 'ë‚˜ ìˆ™ì œí•˜ë‹¤ê°€ ë°¤ìƒœì–´'ë¼ê³  ë³´ëƒˆì–´. ğŸ˜µ", "ì´ ğŸ˜µ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ëœ»ì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì‹ ë‚œë‹¤'ëŠ” ëœ» ğŸ˜†", isCorrect: false, feedback: "ë•¡! ğŸ˜† ì‹ ë‚˜ëŠ” í‘œì •ì´ ì•„ë‹ˆì•¼. ëˆˆì´ ë¹™ê¸€ë¹™ê¸€ ëŒì•„ê°€ê³  ìˆì–´!" },
                            { text: "2. 'ë„ˆë¬´ í”¼ê³¤í•˜ê³  í˜ë“¤ë‹¤'ëŠ” ëœ» ğŸ˜´", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜µ í‘œì •ì€ 'ë„ˆë¬´ í”¼ê³¤í•´ì„œ ì–´ì§€ëŸ½ë‹¤'ëŠ” ëœ»ì´ì•¼. 'ê´œì°®ì•„?'ë¼ê³  ë¬¼ì–´ë´ ì£¼ì!" },
                            { text: "3. 'í™”ê°€ ë‚œë‹¤'ëŠ” ëœ» ğŸ˜ ", isCorrect: false, feedback: "ë•¡! ğŸ˜  í™”ê°€ ë‚œ í‘œì •ê³¼ëŠ” ì¡°ê¸ˆ ë‹¬ë¼. 'í˜ë“¤ë‹¤'ëŠ” ëœ»ì— ë” ê°€ê¹Œì›Œ." }
                        ]
                    },
                    {
                        botMessages: ["2-2. ë‚´ê°€ ì¬ë¯¸ìˆëŠ” ë†ë‹´ì„ ë³´ëƒˆë”ë‹ˆ, ì¹œêµ¬ê°€ 'ã…‹ã…‹ ì§„ì§œ ì›ƒê¸´ë‹¤ ğŸ˜…'ë¼ê³  ë³´ëƒˆì–´.", "ì´ ğŸ˜… ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ëœ»ì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì •~ë§ ì¬ë¯¸ìˆë‹¤'ëŠ” ëœ» ğŸ¤£", isCorrect: false, feedback: "ë•¡! ğŸ¤£ ì´ëª¨í‹°ì½˜ì´ ì•„ë‹ˆì•¼. ë•€ì„ í˜ë¦¬ê³  ìˆì–ì•„? 'ì •ë§ ì›ƒê¸°ë‹¤'ëŠ” ì•„ë‹Œ ê²ƒ ê°™ì•„." },
                            { text: "2. 'í™”ê°€ ë‚œë‹¤'ëŠ” ëœ» ğŸ˜ ", isCorrect: false, feedback: "ë•¡! ğŸ˜  í™”ë‚œ í‘œì •ì€ ì•„ë‹ˆì§€? ì›ƒê³  ìˆì–ì•„." },
                            { text: "3. 'ì›ƒê¸°ê¸´ í•œë°, ì¢€ ë¯¼ë§í•˜ë‹¤'ëŠ” ëœ» ğŸ˜¥", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜… ì´ëª¨í‹°ì½˜ì€ 'ë¯¼ë§í•  ë•Œ'ë‚˜ 'ì–µì§€ë¡œ ì›ƒì„ ë•Œ' ìì£¼ ì¨. 'ë‚´ ë†ë‹´ì´ ë³„ë¡œì˜€ë‚˜?' í•˜ê³  ìƒê°í•´ ë³¼ ìˆ˜ ìˆì–´." }
                        ]
                    },
                    {
                        botMessages: ["2-3. ì¹œêµ¬ê°€ 'ë‚˜ ì‹œí—˜ 100ì  ë§ì•˜ì–´!'ë¼ê³  ë³´ëƒˆì–´. ğŸ’¯", "ê·¸ëŸ°ë° ì¹œêµ¬ê°€ 'ğŸ˜' ì´ëª¨í‹°ì½˜ì„ ì¼ë„¤? ì´ê±´ ì–´ë–¤ ë§ˆìŒì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ë¶€ë„ëŸ½ë‹¤' ğŸ˜¥", isCorrect: false, feedback: "ë•¡! ğŸ˜¥ ìŠ¬í”„ê±°ë‚˜ ë¶€ë„ëŸ¬ìš´ í‘œì •ì´ ì•„ë‹ˆì•¼. ì„ ê¸€ë¼ìŠ¤ë¥¼ ë¼ê³  ì›ƒê³  ìˆì–´!" },
                            { text: "2. 'ë‚´ê°€ ì¢€ ë©‹ì§€ì§€? (ë¿Œë“¯í•¨)' ğŸ˜", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜ ì´ëª¨í‹°ì½˜ì€ 'ë©‹ì§€ë‹¤', 'ìì‹ ê° ìˆë‹¤', 'ë¿Œë“¯í•˜ë‹¤'ëŠ” ë§ˆìŒì„ ì¥ë‚œìŠ¤ëŸ½ê²Œ í‘œí˜„í•œ ê±°ì•¼!" },
                            { text: "3. 'í™”ê°€ ë‚œë‹¤' ğŸ˜ ", isCorrect: false, feedback: "ë•¡! ğŸ˜  í™”ë‚œ í‘œì •ì€ ì•„ë‹ˆì•¼. ì˜¤íˆë ¤ ê¸°ë¶„ì´ ì¢‹ì•„ ë³´ì—¬!" }
                        ]
                    },
                    {
                        botMessages: ["2-4. ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ê¸‰ì‹ ë§›ìˆëŠ” ê±° ë‚˜ì˜¨ë‹¤!'ë¼ê³  ë³´ëƒˆì–´. ğŸ—", "ê·¸ëŸ°ë° ì¹œêµ¬ê°€ 'ğŸ¤”' ì´ëª¨í‹°ì½˜ì„ ì¼ì–´. ì´ê±´ ë¬´ìŠ¨ ëœ»ì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì •ë§ ì‹ ë‚œë‹¤' ğŸ˜†", isCorrect: false, feedback: "ë•¡! ğŸ˜† ì‹ ë‚˜ëŠ” í‘œì •ì´ ì•„ë‹ˆì•¼. í„±ì„ ê´´ê³  ìƒê°í•˜ê³  ìˆì–´." },
                            { text: "2. 'ê¸‰ì‹ì´ ë§›ìˆëŠ”ì§€ ìƒê° ì¤‘ì´ë‹¤' ğŸ§", isCorrect: true, feedback: "ì •ë‹µ! ğŸ¤” ì´ëª¨í‹°ì½˜ì€ 'ìƒê° ì¤‘', 'ê³ ë¯¼ ì¤‘'ì´ë¼ëŠ” ëœ»ì´ì•¼. 'ì§„ì§œ ë§›ìˆëŠ” ê±° ë§ë‚˜?' í•˜ê³  ê³ ë¯¼í•˜ëŠ” ê²ƒ ê°™ì•„." },
                            { text: "3. 'ìŠ¬í”„ë‹¤' ğŸ˜¥", isCorrect: false, feedback: "ë•¡! ğŸ˜¥ ìŠ¬í”ˆ í‘œì •ì€ ì•„ë‹ˆì•¼. 'ê³ ë¯¼'í•˜ëŠ” í‘œì •ì— ê°€ê¹Œì›Œ." }
                        ]
                    },
                    {
                        botMessages: ["2-5. ì¹œêµ¬ê°€ 'ë°© ì²­ì†Œí•˜ê¸° ì‹«ë‹¤ ğŸ˜‘'ë¼ê³  ë³´ëƒˆì–´.", "ì´ ğŸ˜‘ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ë§ˆìŒì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì •ë§ ê·€ì°®ê³  ì§œì¦ ë‚œë‹¤' ğŸ˜’", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜‘ ì´ëª¨í‹°ì½˜ì€ 'ì§€ë£¨í•˜ë‹¤', 'ê·€ì°®ë‹¤', 'ì§œì¦ ë‚œë‹¤'ëŠ” ë§ˆìŒì„ ì „ë¶€ í‘œí˜„í•˜ëŠ” í‘œì •ì´ì•¼." },
                            { text: "2. 'ì‹ ë‚œë‹¤' ğŸ¥³", isCorrect: false, feedback: "ë•¡! ğŸ¥³ ì‹ ë‚˜ëŠ” í‘œì •ê³¼ëŠ” ì™„ì „ ë°˜ëŒ€ì§€?" },
                            { text: "3. 'ë°°ê³ í”„ë‹¤' ğŸ¤¤", isCorrect: false, feedback: "ë•¡! ğŸ¤¤ ë°°ê³ í”ˆ í‘œì •ì´ ì•„ë‹ˆì•¼. 'ì •ë§ í•˜ê¸° ì‹«ë‹¤'ëŠ” ë§ˆìŒì´ ë‹´ê²¨ìˆì–´." }
                        ]
                    }
                ]
            },
            { // 3ë‹¨ê³„: ë¯¸ë¬˜í•œ ìƒí™©ê³¼ ì˜¤í•´ (5ë¬¸ì œ)
                levelName: "3ë‹¨ê³„ (ì‹¬í™”)",
                questions: [
                    {
                        botMessages: ["3-1. ì¹œêµ¬ê°€ 'ë„ˆ ë•Œë¬¸ì— ìˆ™ì œ ë‹¤ ëª»í–ˆì–ì•„! ğŸ˜¡'ë¼ê³  ë³´ëƒˆì–´.", "ì´ ğŸ˜¡ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ë§ˆìŒì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì¥ë‚œì¹˜ëŠ” ì¤‘ì´ë‹¤' ğŸ˜œ", isCorrect: false, feedback: "ë•¡! ğŸ˜œ ì¥ë‚œì¹˜ëŠ” í‘œì •ì´ ì•„ë‹ˆì•¼. ì–¼êµ´ì´ ë¹¨ê°›ê²Œ ë³€í•  ì •ë„ë¡œ 'ì •ë§ í™”ê°€ ë‚¬ë‹¤'ëŠ” ëœ»ì´ì•¼! ğŸ˜±" },
                            { text: "2. 'ì •ë§ë¡œ í™”ê°€ ë‚¬ë‹¤' ğŸ˜ ", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜¡ ì´ëª¨í‹°ì½˜ì€ 'ì •ë§ í™”ê°€ ë‚¬ë‹¤'ëŠ” ê°•ë ¥í•œ í‘œí˜„ì´ì•¼. 'ì™œ? ë¯¸ì•ˆí•´!'ë¼ê³  ë¹¨ë¦¬ ì‚¬ê³¼í•´ì•¼ í• ì§€ë„ ëª°ë¼!" },
                            { text: "3. 'í”¼ê³¤í•˜ë‹¤' ğŸ˜´", isCorrect: false, feedback: "ë•¡! ğŸ˜´ í”¼ê³¤í•œ í‘œì •ì´ ì•„ë‹ˆì•¼. 'ë¶„ë…¸'ì˜ í‘œì •ì´ì•¼!" }
                        ]
                    },
                    {
                        botMessages: ["3-2. ë‚´ê°€ 'ì˜¤ëŠ˜ ê°™ì´ ë†€ë˜?'ë¼ê³  ë³´ëƒˆëŠ”ë°, ì¹œêµ¬ê°€ 'ì•„ë‹ˆ. ğŸ˜'ë¼ê³  ë”± ì˜ë¼ ë§í–ˆì–´.", "ì´ ğŸ˜ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ëœ»ì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì •ë§ ì‹ ë‚œë‹¤' ğŸ˜†", isCorrect: false, feedback: "ë•¡! ğŸ˜† ì‹ ë‚˜ëŠ” í‘œì •ì´ ì•„ë‹ˆì•¼. ì…ì´ ì¼ì(-)ë¡œ ë‹«í˜€ìˆì–´." },
                            { text: "2. 'ê¸°ë¶„ì´ ì•ˆ ì¢‹ê±°ë‚˜, ê´€ì‹¬ ì—†ë‹¤' ğŸ˜’", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜ ì´ëª¨í‹°ì½˜ì€ 'ë³„ë¡œ', 'ê´€ì‹¬ ì—†ìŒ' ë˜ëŠ” 'ê¸°ë¶„ì´ ì•ˆ ì¢‹ìŒ'ì„ ëœ»í•  ìˆ˜ ìˆì–´. ì´ëŸ´ ë• 'ë¬´ìŠ¨ ì¼ ìˆì–´?'ë¼ê³  ë¬¼ì–´ë³´ëŠ” ê²Œ ì¢‹ì•„." },
                            { text: "3. 'ë¶€ë„ëŸ½ë‹¤' ğŸ˜Š", isCorrect: false, feedback: "ë•¡! ğŸ˜Š ë¶€ë„ëŸ¬ìš´ í‘œì •ì€ ì•„ë‹ˆì•¼. 'ë¬´í‘œì •'ì— ê°€ê¹Œì›Œ." }
                        ]
                    },
                    {
                        botMessages: ["3-3. ì¹œêµ¬ê°€ 'ë°œí‘œ ì‹œê°„ì— ë„˜ì–´ì ¸ì„œ ì°½í”¼í–ˆì–´ ğŸ˜­'ë¼ê³  ë³´ëƒˆì–´.", "ì´ë•Œ 'ã…‹ã…‹ã…‹ã…‹ ğŸ¤£'ë¼ê³  ë³´ë‚´ë©´ ì–´ë–»ê²Œ ë ê¹Œ?"],
                        options: [
                            { text: "1. 'ì¹œêµ¬ê°€ ì¬ë¯¸ìˆì–´í•œë‹¤' ğŸ¥°", isCorrect: false, feedback: "ì•„ë‹ˆì•¼! ğŸ¤£ ì´ëª¨í‹°ì½˜ì€ 'ë¹„ì›ƒëŠ”ë‹¤'ê³  ì˜¤í•´í•˜ê¸° ë”± ì¢‹ì•„. ì¹œêµ¬ëŠ” ì°½í”¼í•´ì„œ ğŸ˜­ ìš°ëŠ” ì´ëª¨í‹°ì½˜ì„ ì¼ì–ì•„!" },
                            { text: "2. 'ì¹œêµ¬ì™€ ì‚¬ì´ê°€ ë” ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆë‹¤' ğŸ˜ ", isCorrect: true, feedback: "ì •ë‹µ... ğŸ˜­ ì¹œêµ¬ëŠ” 'ë‚´ê°€ ì°½í”¼í•œ ê²Œ ì›ƒê²¨?'ë¼ê³  ìƒê°í•˜ë©° ë” í™”ê°€ ë‚˜ê±°ë‚˜ ìƒì²˜ë°›ì„ ê±°ì•¼. ì ˆëŒ€ ì“°ë©´ ì•ˆ ë¼!" },
                            { text: "3. 'ì¹œêµ¬ê°€ ìœ„ë¡œë°›ëŠ”ë‹¤' ğŸ¤—", isCorrect: false, feedback: "ì•„ë‹ˆì•¼! ğŸ¤£ ì›ƒëŠ” ì´ëª¨í‹°ì½˜ì€ ìœ„ë¡œê°€ ë˜ì§€ ì•Šì•„. 'ê´œì°®ì•„? ğŸ˜¥'ë¼ê³  ë³´ë‚´ì•¼ í•´." }
                        ]
                    },
                    {
                        botMessages: ["3-4. ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ë³¸ ì˜í™”ê°€... ğŸ™„'ë¼ê³  ë³´ëƒˆì–´.", "ì´ ğŸ™„ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ëœ»ì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì˜í™”ê°€ ë„ˆ~ë¬´ ê°ë™ì ì´ë‹¤' ğŸ˜­", isCorrect: false, feedback: "ë•¡! ğŸ˜­ ìš°ëŠ” í‘œì •ì´ ì•„ë‹ˆì•¼. ëˆˆì„ ìœ„ë¡œ êµ´ë¦¬ê³  ìˆì–´." },
                            { text: "2. 'ì˜í™”ê°€ ë„ˆ~ë¬´ ì¬ë¯¸ìˆë‹¤' ğŸ¤©", isCorrect: false, feedback: "ë•¡! ğŸ¤© ë°˜ì§ì´ëŠ” ëˆˆì´ ì•„ë‹ˆì•¼. 'ì–´ì´ì—†ë‹¤'ëŠ” ë“¯í•œ í‘œì •ì´ì•¼." },
                            { text: "3. 'ì˜í™”ê°€ ë³„ë¡œê±°ë‚˜, ì–´ì´ì—†ë‹¤' ğŸ˜’", isCorrect: true, feedback: "ì •ë‹µ! ğŸ™„ ì´ëª¨í‹°ì½˜ì€ 'ë§ˆìŒì— ì•ˆ ë“ ë‹¤', 'ì–´ì´ì—†ë‹¤', 'ì§€ë£¨í•˜ë‹¤'ëŠ” ëœ»ìœ¼ë¡œ ë§ì´ ì“°ì—¬. 'ì¬ë¯¸ì—†ì—ˆì–´?'ë¼ê³  ë¬¼ì–´ë´ ì£¼ì." }
                        ]
                    },
                    {
                        botMessages: ["3-5. ì¹œêµ¬ê°€ 'ë‚˜ ë¬´ì„œìš´ ê¿ˆ ê¿¨ì–´ ğŸ˜±'ë¼ê³  ë³´ëƒˆì–´.", "ì´ ğŸ˜± ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ë§ˆìŒì¼ê¹Œ?"],
                        options: [
                            { text: "1. 'ì •ë§ ë¬´ì„œì› ë‹¤' ğŸ˜¨", isCorrect: true, feedback: "ì •ë‹µ! ğŸ˜± ì´ëª¨í‹°ì½˜ì€ 'ê¹œì§ ë†€ë¼ê±°ë‚˜' 'ì •ë§ ë¬´ì„­ë‹¤'ëŠ” ëœ»ì´ì•¼. 'ê´œì°®ì•„?'ë¼ê³  ê¼­ ë¬¼ì–´ë´ ì£¼ì!" },
                            { text: "2. 'ê¸°ì˜ë‹¤' ğŸ¥³", isCorrect: false, feedback: "ë•¡! ğŸ¥³ ê¸°ìœ í‘œì •ì´ ì•„ë‹ˆì•¼. ì–¼êµ´ì´ íŒŒë—ê²Œ ì§ˆë ¤ì„œ ì†Œë¦¬ì¹˜ê³  ìˆì–´!" },
                            { text: "3. 'ë°°ê³ í”„ë‹¤' ğŸ¤¤", isCorrect: false, feedback: "ë•¡! ğŸ¤¤ ë°°ê³ í”ˆ í‘œì •ì´ ì•„ë‹ˆì•¼. 'ê³µí¬'ì— ì§ˆë¦° í‘œì •ì´ì•¼!" }
                        ]
                    }
                ]
            }
        ];

        // --- íë¦„ ì œì–´ ì‹œë‚˜ë¦¬ì˜¤ ---
        // í€´ì¦ˆ ì™¸ì˜ ë„ì…, ë‹¨ê³„ ì´ë™, ë§ˆë¬´ë¦¬ë¥¼ ë‹´ë‹¹
        const scenarios = {
            0: { // ì‹œì‘
                botMessages: [
                    "ì•ˆë…•! ë‚˜ëŠ” 'ë§ˆìŒ í‘œí˜„ ë„ìš°ë¯¸' ì±—ë´‡ì´ì•¼. ğŸ¤–",
                    "ì´ëª¨í‹°ì½˜ í€´ì¦ˆ ê²Œì„ì— ì˜¨ ê±¸ í™˜ì˜í•´!",
                    "ì´ 3ë‹¨ê³„ì˜ í€´ì¦ˆê°€ ì¤€ë¹„ë˜ì–´ ìˆì–´. ì´ëª¨í‹°ì½˜ì˜ ì§„ì§œ ì˜ë¯¸ë¥¼ ë§í˜€ë³´ì!",
                    "ì¤€ë¹„ëë‹ˆ?"
                ],
                options: [
                    { text: "ì‘, ì¤€ë¹„ëì–´! ğŸ˜†", nextStep: "startQuiz" },
                    { text: "ì•„ì§...", nextStep: 1 }
                ]
            },
            1: { // ì•„ì§ ì¤€ë¹„ ì•ˆ ë¨
                botMessages: ["ê´œì°®ì•„. ì²œì²œíˆ ì‹œì‘í•´ ë³´ì! ğŸ¢", "ì¤€ë¹„ë˜ë©´ 'ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ì¤˜!"],
                options: [
                    { text: "ì¢‹ì•„, ì‹œì‘í• ê²Œ!", nextStep: "startQuiz" }
                ]
            },
            100: { // 1ë‹¨ê³„ ì™„ë£Œ -> 2ë‹¨ê³„ ì‹œì‘
                botMessages: ["1ë‹¨ê³„ í†µê³¼! ğŸ¥³ ì •ë§ ì˜í–ˆì–´.", "ì´ì œ ì¡°ê¸ˆ ë” í—·ê°ˆë¦¬ëŠ” 2ë‹¨ê³„ í€´ì¦ˆë¥¼ ì‹œì‘í• ê²Œ!", "ì¤€ë¹„ëì§€? ğŸ§"],
                options: [ { text: "ì¢‹ì•„! 2ë‹¨ê³„ ì‹œì‘! ğŸš€", nextStep: "continueQuiz" } ]
            },
            200: { // 2ë‹¨ê³„ ì™„ë£Œ -> 3ë‹¨ê³„ ì‹œì‘
                botMessages: ["2ë‹¨ê³„ë„ í†µê³¼! ğŸ¤© ëŒ€ë‹¨í•œë°?", "ì´ì œ ë§ˆì§€ë§‰ 3ë‹¨ê³„, ê°€ì¥ ì–´ë ¤ìš´ í€´ì¦ˆì•¼.", "ì´ëª¨í‹°ì½˜ì˜ ìˆ¨ê²¨ì§„ ëœ»ì„ ë§í˜€ë³´ì! ğŸ¤”"],
                options: [ { text: "ì¢‹ì•„! ë§ˆì§€ë§‰ 3ë‹¨ê³„! ğŸ”¥", nextStep: "continueQuiz" } ]
            },
            300: { // ëª¨ë“  í€´ì¦ˆ ì™„ë£Œ (ë§ˆë¬´ë¦¬)
                botMessages: [
                    "ìš°ì™€! 3ë‹¨ê³„ê¹Œì§€ ëª¨ë‘ í†µê³¼! ğŸ†",
                    "ë„ˆëŠ” ì´ì œ 'ì´ëª¨í‹°ì½˜ ë°•ì‚¬'ì•¼! ğŸ“",
                    "ì´ 15ë¬¸ì œ ì¤‘ <SCORE> ë¬¸ì œë¥¼ ë§í˜”ì–´!", // <SCORE>ëŠ” ì ìˆ˜ë¡œ ëŒ€ì²´ë¨
                    "ì´ì œ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ì¹œêµ¬ë“¤ê³¼ ë§ˆìŒì„ ë” ì˜ ì „í•  ìˆ˜ ìˆê² ì§€?",
                    "ì˜¤ëŠ˜ í€´ì¦ˆ, ì–´ë• ì–´?"
                ],
                options: [
                    { text: "ì¬ë¯¸ìˆì—ˆì–´! ğŸ¤©", nextStep: 301 },
                    { text: "ì¡°ê¸ˆ ì–´ë ¤ì› ì–´. ğŸ˜…", nextStep: 302 }
                ]
            },
            301: {
                botMessages: ["ë‹¤í–‰ì´ë‹¤! ì•ìœ¼ë¡œë„ ì¹œêµ¬ë“¤ê³¼ ì˜ˆìœ ë§, ê¸ì •ì ì¸ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ì¦ê²ê²Œ ëŒ€í™”í•˜ê¸¸ ë°”ë¼! ì•ˆë…•! ğŸ‘‹"],
                options: []
            },
            302: {
                botMessages: ["ê´œì°®ì•„. ì–´ë ¤ìš´ ë¬¸ì œë„ ìˆì—ˆì§€? ì˜¤ëŠ˜ ë°°ìš´ ê±¸ ê¸°ì–µí•˜ë©´ ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì„ ê±°ì•¼! ìˆ˜ê³ í–ˆì–´! ì•ˆë…•! ğŸ‘‹"],
                options: []
            }
        };

        // --- í€´ì¦ˆ ê²Œì„ ìƒíƒœ ë³€ìˆ˜ ---
        let currentLevel = 0; // í˜„ì¬ ë ˆë²¨ (0, 1, 2)
        let currentQuestionIndex = 0; // í˜„ì¬ ë ˆë²¨ì˜ ë¬¸ì œ ë²ˆí˜¸ (0~4)
        let totalScore = 0; // ì´ ì •ë‹µ ê°œìˆ˜

        // --- ì±—ë´‡ í•µì‹¬ í•¨ìˆ˜ ---

        // ì±—ë´‡ ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜ (ë¹„ë™ê¸°)
        function addBotMessage(message) {
            return new Promise(resolve => {
                // ë©”ì‹œì§€ ë˜í¼ ìƒì„±
                const messageWrapper = document.createElement('div');
                messageWrapper.className = "flex justify-start";
                
                // ë©”ì‹œì§€ ë°•ìŠ¤ ìƒì„±
                const messageElement = document.createElement('div');
                messageElement.className = "bg-blue-200 text-gray-800 p-3 rounded-lg rounded-bl-none max-w-xs shadow";
                messageElement.innerHTML = `ğŸ¤– ${message}`; // ì±—ë´‡ ì•„ì´ì½˜ ì¶”ê°€
                
                messageWrapper.appendChild(messageElement);
                chatWindow.appendChild(messageWrapper);
                
                // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ ì´ë™
                chatWindow.scrollTop = chatWindow.scrollHeight;
                resolve();
            });
        }

        // í•™ìƒ(ì‚¬ìš©ì) ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
        function addUserMessage(message) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = "flex justify-end";
            const messageElement = document.createElement('div');
            messageElement.className = "bg-yellow-200 text-gray-800 p-3 rounded-lg rounded-br-none max-w-xs shadow";
            messageElement.innerHTML = `${message} ğŸ§‘â€ğŸ“`; // í•™ìƒ ì•„ì´ì½˜ ì¶”ê°€
            messageWrapper.appendChild(messageElement);
            chatWindow.appendChild(messageElement);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // ì„ íƒì§€ ë²„íŠ¼ í‘œì‹œ í•¨ìˆ˜ (í€´ì¦ˆìš©/ì‹œë‚˜ë¦¬ì˜¤ìš©)
        function showOptions(options) {
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const button = document.createElement('button');
                button.className = "w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow transition duration-200 ease-in-out transform hover:-translate-y-0.5";
                button.textContent = option.text;
                
                // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
                if (option.hasOwnProperty('isCorrect')) {
                    // í€´ì¦ˆ ë¬¸ì œì˜ ì„ íƒì§€ì¼ ê²½ìš°
                    button.onclick = () => handleAnswer(option);
                } else {
                    // ì¼ë°˜ ì‹œë‚˜ë¦¬ì˜¤ì˜ ì„ íƒì§€ì¼ ê²½ìš°
                    button.onclick = () => handleOptionClick(option.text, option.nextStep);
                }
                
                optionsContainer.appendChild(button);
            });
        }

        // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° í‘œì‹œ/ìˆ¨ê¸°ê¸°
        function toggleTyping(show) {
            if (show) {
                typingIndicator.classList.remove('hidden');
                chatWindow.scrollTop = chatWindow.scrollHeight;
            } else {
                typingIndicator.classList.add('hidden');
            }
        }

        // [ìˆ˜ì •] ì¼ë°˜ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ í•¨ìˆ˜ (ë¹„ë™ê¸°)
        async function runScenario(stepKey) {
            const scenario = scenarios[stepKey];
            if (!scenario) return;

            toggleTyping(true);

            for (const message of scenario.botMessages) {
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // ì ìˆ˜ í‘œì‹œ (<SCORE> ëŒ€ì²´)
                const
messageToShow = message.replace("<SCORE>", totalScore);
                await addBotMessage(messageToShow);
            }

            toggleTyping(false);

            setTimeout(() => {
                showOptions(scenario.options);
            }, 500);
        }

        // [ìˆ˜ì •] ì„ íƒì§€ í´ë¦­ ì²˜ë¦¬ í•¨ìˆ˜ (ì‹œë‚˜ë¦¬ì˜¤ìš©)
        function handleOptionClick(text, nextStep) {
            addUserMessage(text);
            optionsContainer.innerHTML = '<div class="text-center text-gray-400">ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</div>';
            
            if (nextStep === "startQuiz") {
                startQuiz(); // í€´ì¦ˆ ì‹œì‘
            } else if (nextStep === "continueQuiz") {
                showLevelIntro(); // ë‹¤ìŒ ë ˆë²¨ ì¸íŠ¸ë¡œ
            } else {
                runScenario(nextStep); // ë‹¤ìŒ ì¼ë°˜ ì‹œë‚˜ë¦¬ì˜¤
            }
        }

        // --- í€´ì¦ˆ ì „ìš© í•¨ìˆ˜ (ì‹ ê·œ) ---

        // í€´ì¦ˆ ì‹œì‘ í•¨ìˆ˜
        function startQuiz() {
            currentLevel = 0;
            currentQuestionIndex = 0;
            totalScore = 0;
            showLevelIntro();
        }

        // í€´ì¦ˆ ë ˆë²¨ ì¸íŠ¸ë¡œ í‘œì‹œ
        async function showLevelIntro() {
            const level = quizLevels[currentLevel];
            optionsContainer.innerHTML = '';
            toggleTyping(true);

            await new Promise(resolve => setTimeout(resolve, 1000));
            await addBotMessage(`ì, ê·¸ëŸ¼ ${level.levelName} í€´ì¦ˆë¥¼ ì‹œì‘í• ê²Œ!`);
            await new Promise(resolve => setTimeout(resolve, 500));
            
            toggleTyping(false);
            showQuestion(); // ì²« ë²ˆì§¸ ë¬¸ì œ í‘œì‹œ
        }

        // í€´ì¦ˆ ë¬¸ì œ í‘œì‹œ
        async function showQuestion() {
            const question = quizLevels[currentLevel].questions[currentQuestionIndex];
            
            toggleTyping(true);
            optionsContainer.innerHTML = ''; // ì´ì „ ë²„íŠ¼ ìˆ¨ê¸°ê¸°

            for (const message of question.botMessages) {
                await new Promise(resolve => setTimeout(resolve, 1000));
                await addBotMessage(message);
            }

            toggleTyping(false);
            
            setTimeout(() => {
                showOptions(question.options); // ë¬¸ì œ ì„ íƒì§€ í‘œì‹œ
            }, 500);
        }

        // í€´ì¦ˆ ì •ë‹µ ì²˜ë¦¬
        async function handleAnswer(option) {
            addUserMessage(option.text);
            optionsContainer.innerHTML = '<div class="text-center text-gray-400">ë‹¤ìŒ ë¬¸ì œë¥¼ ì¤€ë¹„ ì¤‘...</div>';

            toggleTyping(true);
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // í”¼ë“œë°± ë©”ì‹œì§€ í‘œì‹œ
            await addBotMessage(option.feedback);

            if (option.isCorrect) {
                totalScore++; // ì •ë‹µì´ë©´ ì ìˆ˜ ì¦ê°€
            }

            await new Promise(resolve => setTimeout(resolve, 1500)); // í”¼ë“œë°± ì½ì„ ì‹œê°„
            toggleTyping(false);

            currentQuestionIndex++; // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™

            // í˜„ì¬ ë ˆë²¨ì˜ ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆëŠ”ì§€ í™•ì¸
            if (currentQuestionIndex >= quizLevels[currentLevel].questions.length) {
                currentLevel++; // ë‹¤ìŒ ë ˆë²¨ë¡œ
                currentQuestionIndex = 0;

                // ëª¨ë“  ë ˆë²¨ì„ ë‹¤ í’€ì—ˆëŠ”ì§€ í™•ì¸
                if (currentLevel >= quizLevels.length) {
                    // ê²Œì„ ì¢…ë£Œ
                    runScenario(300);
                } else {
                    // ë‹¤ìŒ ë ˆë²¨ë¡œ ì´ë™ (ë‹¨ê³„ ì´ë™ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰)
                    runScenario(currentLevel * 100); // 100(2ë‹¨ê³„), 200(3ë‹¨ê³„)
                }
            } else {
                // ê°™ì€ ë ˆë²¨ì˜ ë‹¤ìŒ ë¬¸ì œ í‘œì‹œ
                showQuestion();
            }
        }

        // ì±—ë´‡ ì‹œì‘
        setTimeout(() => {
            runScenario(0); // 0ë²ˆ ì‹œë‚˜ë¦¬ì˜¤(ì¸íŠ¸ë¡œ)ë¡œ ì‹œì‘
        }, 500);

    </script>
</body>
</html>

