<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë§ˆìŒ ì „í•˜ê¸° ì±—ë´‡</title>
    <!-- Tailwind CSS ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* í•™ìƒë“¤ì—ê²Œ ì¹œê·¼í•œ í°íŠ¸ ì ìš© (Google Fonts) */
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        body {
            font-family: 'Jua', sans-serif;
            background-color: #f0f9ff; /* ë§¤ìš° ì—°í•œ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
        }
        /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ (ì„ íƒ ì‚¬í•­) */
        #chat-window::-webkit-scrollbar {
            width: 8px;
        }
        #chat-window::-webkit-scrollbar-thumb {
            background-color: #93c5fd; /* ì—°í•œ íŒŒë€ìƒ‰ */
            border-radius: 4px;
        }
        #chat-window::-webkit-scrollbar-track {
            background-color: #e0f2fe; /* ë” ì—°í•œ íŒŒë€ìƒ‰ */
        }
        /* ì±—ë´‡ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ */
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 8px 12px;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: bounce 1.4s infinite both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: 0.0s; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md bg-white rounded-2xl shadow-xl border-4 border-blue-300 overflow-hidden">
        <!-- í—¤ë” -->
        <header class="p-4 bg-gradient-to-r from-yellow-300 to-blue-400 text-center shadow-md">
            <h1 class="text-2xl font-bold text-white drop-shadow-md">âœ¨ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë§ˆìŒ ì „í•˜ê¸° âœ¨</h1>
        </header>

        <!-- ì±„íŒ…ì°½ -->
        <div id="chat-window" class="p-4 h-96 overflow-y-auto space-y-4 bg-blue-50">
            <!-- ì±—ë´‡ ë©”ì‹œì§€ëŠ” ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>

        <!-- ì±—ë´‡ íƒ€ì´í•‘ ì¤‘ í‘œì‹œ -->
        <div id="typing-indicator" class="hidden typing-indicator">
            <span class="bg-gray-400"></span>
            <span class="bg-gray-400"></span>
            <span class="bg-gray-400"></span>
        </div>

        <!-- ì„ íƒì§€ ë²„íŠ¼ ì˜ì—­ -->
        <div id="options-container" class="p-4 bg-white border-t-2 border-blue-200 grid grid-cols-1 gap-2">
            <!-- ì„ íƒì§€ ë²„íŠ¼ì€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <script>
        // HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const chatWindow = document.getElementById('chat-window');
        const optionsContainer = document.getElementById('options-container');
        const typingIndicator = document.getElementById('typing-indicator');

        // ì±—ë´‡ ì‹œë‚˜ë¦¬ì˜¤ ê°ì²´
        // ê° ë‹¨ê³„(step)ëŠ” ì±—ë´‡ì˜ ë©”ì‹œì§€ì™€ í•™ìƒì˜ ì„ íƒì§€ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
        const scenarios = {
            0: { // ì‹œì‘
                botMessages: [
                    "ì•ˆë…•! ë‚˜ëŠ” 'ë§ˆìŒ í‘œí˜„ ë„ìš°ë¯¸' ì±—ë´‡ì´ì•¼. ğŸ¤–",
                    "ìš°ë¦¬ëŠ” ì˜¤ëŠ˜ ì˜¨ë¼ì¸ ëŒ€í™”ì—ì„œ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë§ˆìŒì„ ì „í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ê±°ì•¼.",
                    "ì¤€ë¹„ëë‹ˆ?"
                ],
                options: [
                    { text: "ì‘, ì¤€ë¹„ëì–´! ğŸ˜†", nextStep: 1 },
                    { text: "ì•„ì§...", nextStep: 0.1 }
                ]
            },
            0.1: { // ì•„ì§ ì¤€ë¹„ ì•ˆ ë¨
                botMessages: ["ê´œì°®ì•„. ì²œì²œíˆ ì‹œì‘í•´ ë³´ì! ğŸ¢"],
                options: [
                    { text: "ì¢‹ì•„, ì‹œì‘í• ê²Œ!", nextStep: 1 }
                ]
            },
            1: { // ìƒí™© 1: ì¹œêµ¬ê°€ ê¸°ë¶„ ì•ˆ ì¢‹ì„ ë•Œ (ê¸€ìë§Œ)
                botMessages: [
                    "ì¢‹ì•„! ì²« ë²ˆì§¸ ìƒí™©ì´ì•¼.",
                    "ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ê¸°ë¶„ì´ ë³„ë¡œ ì•ˆ ì¢‹ì•„'ë¼ê³  í†¡ì„ ë³´ëƒˆì–´. ğŸ˜¥",
                    "ì´ëŸ´ ë• ë­ë¼ê³  ë‹µì¥í•˜ëŠ” ê²Œ ì¢‹ì„ê¹Œ?"
                ],
                options: [
                    { text: "1. ì™œ? ë¬´ìŠ¨ ì¼ì¸ë°?", nextStep: 2.1 },
                    { text: "2. ì•„, ê·¸ë ‡êµ¬ë‚˜.", nextStep: 2.2 },
                    { text: "3. ã…‹", nextStep: 2.3 }
                ]
            },
            // ìƒí™© 1ì— ëŒ€í•œ ë°˜ì‘
            2.1: {
                botMessages: ["'ì™œ? ë¬´ìŠ¨ ì¼ì¸ë°?' ì¢‹ì€ ëŒ€ë‹µì´ì•¼! ğŸ‘", "ì¹œêµ¬ì˜ ê¸°ë¶„ì„ ë¬¼ì–´ë´ ì£¼ë©´ 'ë‚˜ì—ê²Œ ê´€ì‹¬ì´ ìˆêµ¬ë‚˜'ë¼ê³  ëŠë‚„ ê±°ì•¼."],
                options: [{ text: "ë‹¤ìŒìœ¼ë¡œ â”", nextStep: 3 }]
            },
            2.2: {
                botMessages: ["'ì•„, ê·¸ë ‡êµ¬ë‚˜.' ê·¸ë ‡ê²Œ ëŒ€ë‹µí•  ìˆ˜ë„ ìˆì§€.", "í•˜ì§€ë§Œ ì¹œêµ¬ê°€ 'ë‚´ ê¸°ë¶„ì— ê´€ì‹¬ì´ ì—†ë‚˜?' í•˜ê³  ì„œìš´í•´í•  ìˆ˜ë„ ìˆì–´. ğŸ˜¢"],
                options: [{ text: "ë‹¤ìŒìœ¼ë¡œ â”", nextStep: 3 }]
            },
            2.3: {
                botMessages: ["ì•—! 'ã…‹'ë§Œ ë³´ë‚´ë©´ ì¹œêµ¬ê°€ 'ë‚´ ê¸°ë¶„ì„ ì¥ë‚œìœ¼ë¡œ ìƒê°í•˜ë‚˜?' í•˜ê³  ì˜¤í•´í•  ìˆ˜ ìˆì–´. ğŸ˜­"],
                options: [{ text: "ë‹¤ìŒìœ¼ë¡œ â”", nextStep: 3 }]
            },
            3: { // ê¸€ìë§Œ ìˆì„ ë•Œì˜ ë¬¸ì œì  ì„¤ëª…
                botMessages: [
                    "ë§ì•„. ì˜¨ë¼ì¸ ëŒ€í™”ëŠ” ëª©ì†Œë¦¬ë‚˜ í‘œì •ì´ ë³´ì´ì§€ ì•Šì•„ì„œ, ê¸€ìë§Œìœ¼ë¡œëŠ” ë§ˆìŒì´ 100% ì „ë‹¬ë˜ì§€ ì•Šì•„.",
                    "ì´ëŸ´ ë•Œ 'ì´ëª¨í‹°ì½˜'ì„ ì“°ë©´ ê¸°ë¶„ì„ ë” ì˜ ì „í•  ìˆ˜ ìˆì–´! âœ¨",
                    "ë‹¤ìŒ í€´ì¦ˆë¡œ ê°€ë³¼ê¹Œ?"
                ],
                options: [
                    { text: "ì¢‹ì•„! ë‹¤ìŒ í€´ì¦ˆ! ğŸ§", nextStep: 4 },
                    { text: "ì ê¹, ë‹¤ì‹œ ìƒê°í•´ë³¼ë˜.", nextStep: 1 }
                ]
            },
            4: { // ìƒí™© 2: ì¹œêµ¬ê°€ ìƒ íƒ”ì„ ë•Œ (ì´ëª¨í‹°ì½˜ í€´ì¦ˆ)
                botMessages: [
                    "ë‘ ë²ˆì§¸ ìƒí™©! ì´ë²ˆì—” ì´ëª¨í‹°ì½˜ì„ ì‚¬ìš©í•´ ë³´ì.",
                    "ì¹œêµ¬ê°€ 'ë‚˜ ì˜¤ëŠ˜ ê·¸ë¦¼ê·¸ë¦¬ê¸° ëŒ€íšŒì—ì„œ ìƒ íƒ”ì–´!'ë¼ê³  í†¡ì„ ë³´ëƒˆì–´. ğŸ¨",
                    "ì¹œêµ¬ê°€ ì •ë§ ê¸°ë» ë³´ì—¬! ì–´ë–»ê²Œ ì¶•í•˜í•´ ì£¼ë©´ ì¢‹ì„ê¹Œ?"
                ],
                options: [
                    { text: "1. ìš°ì™€! ì •ë§? ğŸ˜®", nextStep: 5.1 },
                    { text: "2. ì¶•í•˜í•´! ğŸ‰ğŸ¥³", nextStep: 5.2 },
                    { text: "3. ì¢‹ê² ë‹¤. ğŸ˜’", nextStep: 5.3 }
                ]
            },
            // ìƒí™© 2ì— ëŒ€í•œ ë°˜ì‘
            5.1: {
                botMessages: ["ì¢‹ì€ ë°˜ì‘ì´ì•¼! 'ğŸ˜®' ì´ëª¨í‹°ì½˜ì€ 'ë†€ëë‹¤'ëŠ” ë§ˆìŒì„ ì˜ ë³´ì—¬ì¤˜.", "í•˜ì§€ë§Œ 'ì¶•í•˜í•œë‹¤'ëŠ” ë§ˆìŒì€ ì¡°ê¸ˆ ë¶€ì¡±í•  ìˆ˜ë„ ìˆì–´."],
                options: [{ text: "ê·¸ë ‡êµ¬ë‚˜. â”", nextStep: 6 }]
            },
            5.2: {
                botMessages: ["ìµœê³ ì•¼! ğŸ‘ 'ì¶•í•˜í•´'ë¼ëŠ” ë§ê³¼ í•¨ê»˜ 'ğŸ‰ğŸ¥³' ì´ëª¨í‹°ì½˜ì„ ì“°ë‹ˆê¹Œ, ë‚´ê°€ ì–¼ë§ˆë‚˜ ê¸°ì˜ê²Œ ì¶•í•˜í•˜ëŠ”ì§€ ì¹œêµ¬ê°€ ë°”ë¡œ ì•Œ ìˆ˜ ìˆì„ ê±°ì•¼!"],
                options: [{ text: "ì‹ ë‚œë‹¤! â”", nextStep: 6 }]
            },
            5.3: {
                botMessages: ["ì•—! 'ğŸ˜’' ì´ëª¨í‹°ì½˜ì€ 'ê¸°ë¶„ì´ ì•ˆ ì¢‹ê±°ë‚˜', 'ì‚ì§„' ê²ƒì²˜ëŸ¼ ë³´ì—¬. ğŸ˜Ÿ", "ì¹œêµ¬ëŠ” 'ë‚´ê°€ ìƒ íƒ„ ê²Œ ì‹«ì€ê°€?' í•˜ê³  ì†ìƒí•´í•  ìˆ˜ ìˆì–´."],
                options: [{ text: "ì•„... â”", nextStep: 6 }]
            },
            6: { // ì´ëª¨í‹°ì½˜ì˜ ì¤‘ìš”ì„± ê°•ì¡°
                botMessages: [
                    "ë´, ë˜‘ê°™ì€ ë§ì´ë¼ë„ ì–´ë–¤ ì´ëª¨í‹°ì½˜ì„ ì“°ëŠëƒì— ë”°ë¼ ëŠë‚Œì´ í™• ë‹¬ë¼ì§€ì§€?",
                    "ë§ˆì§€ë§‰ í€´ì¦ˆ í•˜ë‚˜ ë”! ğŸ§"
                ],
                options: [
                    { text: "ì¢‹ì•„! ë§ˆì§€ë§‰ í€´ì¦ˆ!", nextStep: 7 },
                    { text: "ì´ì œ ê·¸ë§Œí• ë˜.", nextStep: 9 }
                ]
            },
            7: { // ìƒí™© 3: ì‚¬ê³¼í•˜ê¸° (ì´ëª¨í‹°ì½˜ í€´ì¦ˆ)
                botMessages: [
                    "ë§ˆì§€ë§‰ ìƒí™©ì´ì•¼. ì¡°ê¸ˆ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´!",
                    "ì¹œêµ¬ê°€ 'ì˜¤ëŠ˜ ë†€ì´í„°ì—ì„œ ë§Œë‚˜!'ë¼ê³  ë³´ëƒˆëŠ”ë°, ë‚´ê°€ ì•½ì†ì„ ìŠê³  ëª» ê°”ì–´. ğŸ˜­",
                    "ì¹œêµ¬ê°€ 'ì™œ ì•ˆ ì™”ì–´?'ë¼ê³  í†¡ì„ ë³´ëƒˆì–´. ğŸ˜ ",
                    "ì´ëŸ´ ë•Œ ì–´ë–»ê²Œ ì‚¬ê³¼í•´ì•¼ í• ê¹Œ?"
                ],
                options: [
                    { text: "1. ì•„, ë§ë‹¤! ğŸ¤£", nextStep: 8.1 },
                    { text: "2. ë¯¸ì•ˆí•´ ã… ã…  ë‚´ê°€ ê¹œë¹¡í–ˆì–´. ğŸ™", nextStep: 8.2 },
                    { text: "3. í—. ğŸ˜²", nextStep: 8.3 }
                ]
            },
            // ìƒí™© 3ì— ëŒ€í•œ ë°˜ì‘
            8.1: {
                botMessages: ["ì•—! 'ğŸ¤£' ì´ëª¨í‹°ì½˜ì€ ì›ƒëŠ” í‘œì •ì´ì–ì•„.", "ì¹œêµ¬ëŠ” 'ë‚´ê°€ ê¸°ë‹¤ë¦° ê²Œ ì›ƒê¸´ê°€?' í•˜ê³  ë” í™”ê°€ ë‚  ìˆ˜ ìˆì–´! ğŸ”¥"],
                options: [{ text: "ì¡°ì‹¬í•´ì•¼ê² ë‹¤. â”", nextStep: 9 }]
            },
            8.2: {
                botMessages: ["ì •ë§ ì¢‹ì€ ì‚¬ê³¼ ë°©ë²•ì´ì•¼! 'ë¯¸ì•ˆí•´'ë¼ëŠ” ë§ê³¼ í•¨ê»˜ 'ã… ã… ' (ìš°ëŠ” ëª¨ìŠµ) 'ğŸ™' (ë¯¸ì•ˆí•˜ë‹¤ëŠ” ì†ì§“)ì„ ì“°ë‹ˆê¹Œ, ë‚´ê°€ ì–¼ë§ˆë‚˜ ë¯¸ì•ˆí•´í•˜ëŠ”ì§€ ì§„ì‹¬ì´ ì˜ ì „í•´ì§ˆ ê±°ì•¼."],
                options: [{ text: "ë‹¤í–‰ì´ë‹¤! â”", nextStep: 9 }]
            },
            8.3: {
                botMessages: ["'ğŸ˜²' ì´ëª¨í‹°ì½˜ì€ 'ë†€ëë‹¤'ëŠ” ëœ»ì´ì§€ë§Œ, 'ë¯¸ì•ˆí•˜ë‹¤'ëŠ” ë§ˆìŒì€ ì˜ ì•ˆ ë³´ì—¬. ğŸ˜¥", "ì¹œêµ¬ëŠ” 'ë†€ë¼ê¸°ë§Œ í•˜ê³  ë¯¸ì•ˆí•˜ì§€ë„ ì•Šë‚˜?' ìƒê°í•  ìˆ˜ ìˆì–´."],
                options: [{ text: "ê·¸ë ‡êµ¬ë‚˜... â”", nextStep: 9 }]
            },
            9: { // ì •ë¦¬ ë° ë§ˆë¬´ë¦¬
                botMessages: [
                    "ì •ë§ ì˜í–ˆì–´! ğŸ‘",
                    "ì •ë¦¬í•´ ë³´ì. ì´ëª¨í‹°ì½˜ì€ ìš°ë¦¬ ë§ˆìŒì„ ë” ì˜ í‘œí˜„í•´ ì£¼ì§€ë§Œ, ìƒí™©ì— ë§ê²Œ ì˜ ê³¨ë¼ ì¨ì•¼ í•´.",
                    "íŠ¹íˆ ì‚¬ê³¼í•  ë•Œ ğŸ˜¥ğŸ™, ì¶•í•˜í•  ë•Œ ğŸ‰ğŸ¥³, ê³ ë§ˆìš¸ ë•Œ ğŸ¥°â¤ï¸ ì²˜ëŸ¼ ê¸ì •ì ì¸ ì´ëª¨í‹°ì½˜ì„ ì“°ë©´ ì¹œêµ¬ì™€ ë” ì‚¬ì´ì¢‹ê²Œ ì§€ë‚¼ ìˆ˜ ìˆì„ ê±°ì•¼!",
                    "ì˜¤ëŠ˜ 'ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë§ˆìŒ ì „í•˜ê¸°' ê³µë¶€, ì–´ë• ì–´?"
                ],
                options: [
                    { text: "ì¬ë¯¸ìˆì—ˆì–´! ğŸ¤©", nextStep: 10 },
                    { text: "ì¡°ê¸ˆ ì–´ë ¤ì› ì–´. ğŸ˜…", nextStep: 10.1 }
                ]
            },
            10: { // ê¸ì •ì  ë§ˆë¬´ë¦¬
                botMessages: ["ë‹¤í–‰ì´ë‹¤! ì•ìœ¼ë¡œë„ ì¹œêµ¬ë“¤ê³¼ ì˜ˆìœ ë§, ê¸ì •ì ì¸ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ì¦ê²ê²Œ ëŒ€í™”í•˜ê¸¸ ë°”ë¼! ì•ˆë…•! ğŸ‘‹"],
                options: [] // ì„ íƒì§€ ì—†ìŒ (ì¢…ë£Œ)
            },
            10.1: { // ê²©ë ¤ ë§ˆë¬´ë¦¬
                botMessages: ["ê´œì°®ì•„. ì¡°ê¸ˆì”© ì—°ìŠµí•˜ë©´ 'ë””ì§€í„¸ ëŒ€í™” ì˜ˆì ˆ' ë°•ì‚¬ê°€ ë  ìˆ˜ ìˆì„ ê±°ì•¼! ğŸ“ ì˜¤ëŠ˜ ìˆ˜ê³ í–ˆì–´! ì•ˆë…•! ğŸ‘‹"],
                options: [] // ì„ íƒì§€ ì—†ìŒ (ì¢…ë£Œ)
            }
        };

        // ì±—ë´‡ ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
        function addBotMessage(message) {
            return new Promise(resolve => {
                // ë©”ì‹œì§€ ë˜í¼ ìƒì„±
                const messageWrapper = document.createElement('div');
                messageWrapper.className = "flex justify-start";
                
                // ë©”ì‹œì§€ ë°•ìŠ¤ ìƒì„±
                const messageElement = document.createElement('div');
                messageElement.className = "bg-blue-200 text-gray-800 p-3 rounded-lg rounded-bl-none max-w-xs shadow";
                messageElement.innerHTML = `ğŸ¤– ${message}`; // ì±—ë´‡ ì•„ì´ì½˜ ì¶”ê°€
                
                messageWrapper.appendChild(messageElement);
                chatWindow.appendChild(messageWrapper);
                
                // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ ì´ë™
                chatWindow.scrollTop = chatWindow.scrollHeight;
                resolve();
            });
        }

        // í•™ìƒ(ì‚¬ìš©ì) ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
        function addUserMessage(message) {
            // ë©”ì‹œì§€ ë˜í¼ ìƒì„±
            const messageWrapper = document.createElement('div');
            messageWrapper.className = "flex justify-end";
            
            // ë©”ì‹œì§€ ë°•ìŠ¤ ìƒì„±
            const messageElement = document.createElement('div');
            messageElement.className = "bg-yellow-200 text-gray-800 p-3 rounded-lg rounded-br-none max-w-xs shadow";
            messageElement.innerHTML = `${message} ğŸ§‘â€ğŸ“`; // í•™ìƒ ì•„ì´ì½˜ ì¶”ê°€
            
            messageWrapper.appendChild(messageElement);
            chatWindow.appendChild(messageElement);
            
            // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ ì´ë™
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // ì„ íƒì§€ ë²„íŠ¼ í‘œì‹œ í•¨ìˆ˜
        function showOptions(options) {
            // ê¸°ì¡´ ë²„íŠ¼ ëª¨ë‘ ì‚­ì œ
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const button = document.createElement('button');
                button.className = "w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow transition duration-200 ease-in-out transform hover:-translate-y-0.5";
                button.textContent = option.text;
                
                // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
                button.onclick = () => {
                    handleOptionClick(option.text, option.nextStep);
                };
                
                optionsContainer.appendChild(button);
            });
        }

        // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° í‘œì‹œ/ìˆ¨ê¸°ê¸°
        function toggleTyping(show) {
            if (show) {
                typingIndicator.classList.remove('hidden');
                chatWindow.scrollTop = chatWindow.scrollHeight;
            } else {
                typingIndicator.classList.add('hidden');
            }
        }

        // ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ í•¨ìˆ˜ (ë¹„ë™ê¸° ì²˜ë¦¬)
        async function runScenario(step) {
            const scenario = scenarios[step];
            if (!scenario) return;

            // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° í‘œì‹œ
            toggleTyping(true);

            // ì±—ë´‡ ë©”ì‹œì§€ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ, ì•½ê°„ì˜ ë”œë ˆì´ë¥¼ ë‘ê³  í‘œì‹œ
            for (const message of scenario.botMessages) {
                // ê° ë©”ì‹œì§€ ì‚¬ì´ ë”œë ˆì´ (1ì´ˆ)
                await new Promise(resolve => setTimeout(resolve, 1000));
                await addBotMessage(message);
            }

            // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° ìˆ¨ê¸°ê¸°
            toggleTyping(false);

            // ì„ íƒì§€ í‘œì‹œ (0.5ì´ˆ í›„)
            setTimeout(() => {
                showOptions(scenario.options);
            }, 500);
        }

        // ì„ íƒì§€ í´ë¦­ ì²˜ë¦¬ í•¨ìˆ˜
        function handleOptionClick(text, nextStep) {
            // 1. í•™ìƒì´ ì„ íƒí•œ ë©”ì‹œì§€ë¥¼ ì±„íŒ…ì°½ì— í‘œì‹œ
            addUserMessage(text);
            
            // 2. ê¸°ì¡´ ì„ íƒì§€ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            optionsContainer.innerHTML = '<div class="text-center text-gray-400">ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</div>';
            
            // 3. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰
            runScenario(nextStep);
        }

        // ì±—ë´‡ ì‹œì‘
        // ì²˜ìŒ ì‹œì‘í•  ë•Œ 0.5ì´ˆ ë”œë ˆì´ë¥¼ ì£¼ì–´ ìì—°ìŠ¤ëŸ½ê²Œ ì‹œì‘
        setTimeout(() => {
            runScenario(0);
        }, 500);

    </script>
</body>
</html>
